{"version":3,"file":"index63.js","sources":["../src/components/health/Layout/DocumentsModal/DocumentsForm/index.tsx"],"sourcesContent":["import { Mask } from 'maska';\nimport { useForm } from 'react-hook-form';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input, RadioGroup } from '@/components/health/Form';\n\nimport { brazilianDocuments } from './constant';\n\ntype DocumentsFormProps = {\n  onSubmit: (data: { documentType: string; documentValue: string }) => void;\n  selectedValue?: { documentType: string; documentValue: string };\n};\n\ntype FormData = {\n  documentType: string;\n  documentValue: string;\n};\n\nexport function DocumentsForm({ onSubmit, selectedValue }: DocumentsFormProps) {\n  const form = useForm<FormData>({\n    defaultValues: selectedValue,\n  });\n\n  const selectedDoc = form.watch('documentType');\n\n  const currentDoc = brazilianDocuments.find(\n    (doc) => doc.document_name === selectedDoc,\n  );\n\n  const maskInstance = new Mask({ mask: currentDoc?.mask });\n\n  const submitHandler = (documentData: FormData) => {\n    onSubmit(documentData);\n  };\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(submitHandler)}\n        className=\"flex flex-col gap-8\"\n      >\n        <FormField\n          control={form.control}\n          name=\"documentType\"\n          render={({ field }) => (\n            <FormItem className=\"flex flex-col gap-4\">\n              <FormControl className=\"relative\">\n                <RadioGroup\n                  value={field.value}\n                  options={brazilianDocuments.map((doc) => ({\n                    value: doc.document_name,\n                    label: doc.document_name,\n                  }))}\n                  onChange={(val) => {\n                    field.onChange(val);\n                    form.setValue('documentValue', '');\n                  }}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {selectedDoc && currentDoc && (\n          <FormField\n            control={form.control}\n            name=\"documentValue\"\n            rules={{\n              required: 'Campo é obrigatório',\n              validate: (value) =>\n                maskInstance.completed(value) || `O campo não está completo.`,\n            }}\n            render={({ field }) => (\n              <FormItem className=\"flex flex-col\">\n                <FormControl className=\"bg-white\">\n                  <Input\n                    {...field}\n                    onChange={(e) => {\n                      field.onChange(maskInstance.masked(e.target.value));\n                    }}\n                    placeholder={`${currentDoc.document_name}`}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        )}\n\n        <Button disabled={!form.formState.isValid}>Selecionar</Button>\n      </form>\n    </Form>\n  );\n}\n"],"names":["DocumentsForm","onSubmit","selectedValue","form","useForm","selectedDoc","currentDoc","brazilianDocuments","doc","maskInstance","Mask","submitHandler","documentData","jsx","Form","jsxs","FormField","field","FormItem","FormControl","RadioGroup","val","FormMessage","value","Input","e","Button"],"mappings":";;;;;;;;AAyBO,SAASA,EAAc,EAAE,UAAAC,GAAU,eAAAC,KAAqC;AAC7E,QAAMC,IAAOC,EAAkB;AAAA,IAC7B,eAAeF;AAAA,EAAA,CAChB,GAEKG,IAAcF,EAAK,MAAM,cAAc,GAEvCG,IAAaC,EAAmB;AAAA,IACpC,CAACC,MAAQA,EAAI,kBAAkBH;AAAA,EAAA,GAG3BI,IAAe,IAAIC,EAAK,EAAE,MAAMJ,KAAA,gBAAAA,EAAY,MAAM,GAElDK,IAAgB,CAACC,MAA2B;AAChD,IAAAX,EAASW,CAAY;AAAA,EAAA;AAIrB,SAAA,gBAAAC,EAACC,GAAM,EAAA,GAAGX,GACR,UAAA,gBAAAY;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAUZ,EAAK,aAAaQ,CAAa;AAAA,MACzC,WAAU;AAAA,MAEV,UAAA;AAAA,QAAA,gBAAAE;AAAA,UAACG;AAAA,UAAA;AAAA,YACC,SAASb,EAAK;AAAA,YACd,MAAK;AAAA,YACL,QAAQ,CAAC,EAAE,OAAAc,QACR,gBAAAF,EAAAG,GAAA,EAAS,WAAU,uBAClB,UAAA;AAAA,cAAC,gBAAAL,EAAAM,GAAA,EAAY,WAAU,YACrB,UAAA,gBAAAN;AAAA,gBAACO;AAAA,gBAAA;AAAA,kBACC,OAAOH,EAAM;AAAA,kBACb,SAASV,EAAmB,IAAI,CAACC,OAAS;AAAA,oBACxC,OAAOA,EAAI;AAAA,oBACX,OAAOA,EAAI;AAAA,kBAAA,EACX;AAAA,kBACF,UAAU,CAACa,MAAQ;AACjB,oBAAAJ,EAAM,SAASI,CAAG,GACblB,EAAA,SAAS,iBAAiB,EAAE;AAAA,kBACnC;AAAA,gBAAA;AAAA,cAAA,GAEJ;AAAA,gCACCmB,GAAY,EAAA;AAAA,YAAA,GACf;AAAA,UAAA;AAAA,QAEJ;AAAA,QAECjB,KAAeC,KACd,gBAAAO;AAAA,UAACG;AAAA,UAAA;AAAA,YACC,SAASb,EAAK;AAAA,YACd,MAAK;AAAA,YACL,OAAO;AAAA,cACL,UAAU;AAAA,cACV,UAAU,CAACoB,MACTd,EAAa,UAAUc,CAAK,KAAK;AAAA,YACrC;AAAA,YACA,QAAQ,CAAC,EAAE,OAAAN,QACR,gBAAAF,EAAAG,GAAA,EAAS,WAAU,iBAClB,UAAA;AAAA,cAAC,gBAAAL,EAAAM,GAAA,EAAY,WAAU,YACrB,UAAA,gBAAAN;AAAA,gBAACW;AAAA,gBAAA;AAAA,kBACE,GAAGP;AAAA,kBACJ,UAAU,CAACQ,MAAM;AACf,oBAAAR,EAAM,SAASR,EAAa,OAAOgB,EAAE,OAAO,KAAK,CAAC;AAAA,kBACpD;AAAA,kBACA,aAAa,GAAGnB,EAAW,aAAa;AAAA,gBAAA;AAAA,cAAA,GAE5C;AAAA,gCACCgB,GAAY,EAAA;AAAA,YAAA,GACf;AAAA,UAAA;AAAA,QAEJ;AAAA,0BAGDI,GAAO,EAAA,UAAU,CAACvB,EAAK,UAAU,SAAS,UAAU,cAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAEzD,EAAA,CAAA;AAEJ;"}